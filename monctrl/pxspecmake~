#!/bin/bash
CFLAGS=`pkg-config --cflags gtk+-2.0`
LIBS=`pkg-config --libs gtk+-2.0`

#echo $CFLAGS
#echo $LIBS

# NOTE: The order of the flags matters!  llabjackusb needs to be near the end (after lm?) and the CFLAGS and LIBS need to be last (for GTK if used)
gcc -W -Wall -O3 -lpthread pxspec.c u3.c px14.c fftwffft.c labjack_edges.c fileio.c datetime.c parallelport.c -lm -llabjackusb -lfftw3f -lsig_px14400 $CFLAGS $LIBS

gcc -W -Wall -O3 -o weather -lpthread labjack_edges.c weather.c -lm -llabjackusb -lfftw3f -lsig_px14400 $CFLAGS $LIBS



#gcc -W -Wall -O3 -lpthread $CFLAGS $LIBS  pxspec.c px14.c amdfft.c disp6.c plot6.c -lacml  -lm -lgfortran -lsig_px14400
#gcc -W -Wall -O3 -lpthread $CFLAGS $LIBS  pxspec.c px14.c fftwfft.c disp6.c plot6.c -lm -lfftw3 -lsig_px14400
#g++ -W -Wall -O3 -lpthread $CFLAGS $LIBS  pxspec.c px14.c fftwffft.c disp6.c plot6.c -lm -lfftw3f -lsig_px14400



sudo rm pxspec
mv a.out pxspec
sudo chown root pxspec
sudo chmod u+s pxspec


